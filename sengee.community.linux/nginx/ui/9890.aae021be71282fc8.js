"use strict";(self.webpackChunksengee_ui=self.webpackChunksengee_ui||[]).push([[9890],{19890:(S,m,a)=>{a.r(m),a.d(m,{AgentModule:()=>R});var C=a(69808),s=a(77152),g=a(62545),p=a(64219),O=a(82886),P=a(15701),t=a(5e3),_=a(49727),h=a(89445),x=a(90056),f=a(91156),M=a(82683),d=a(11047),u=a(93075),b=a(72394),v=a(55535),y=a(404);function A(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"span",15),t.NdJ("click",function(){return t.CHM(n),t.oxw().searchHandler()}),t.qZA()}}function z(e,l){if(1&e&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&e){const n=l.$implicit,o=t.oxw();t.Q6J("nz-tooltip",o.toAgentTip(n.llmMessages)),t.xp6(1),t.Oqu(o.toAgentTip(n.llmMessages))}}const w=function(e){return{height:e}};let k=(()=>{class e{constructor(n,o,i,c){this.message=n,this.i18n=o,this.router=i,this.api=c,this.typeList=[{name:"\u8bed\u8a00",children:P.s.map(r=>({alias:this.i18n.translate(r.i18n),value:r.value,selected:!0}))}],this.listOfData=[],this.pageInfo={pageIndex:1,pageSize:10,total:0},this.searchValue="",this.languages=this.typeList[0].children.map(r=>r.value).join(","),this.columns=[{type:"index"},{i18n:"base.name",field:"name"},{i18n:"base.language",field:"lang",dataI18n:!0},{i18n:"base.model",field:"model"},{i18n:"prompt.modelFamily",field:"modelFamily"},{i18n:"agent.template",field:"llmMessages",render:"templateColumn"},{buttons:[{icon:"xiugai",tip:"base.edit",click:r=>this.onEdit(r)},{icon:"shanchu",tip:"base.delete",type:"delete",confirmTip:"agent.template",click:r=>this.deleteConfirm(r)}]}]}ngOnInit(){this.searchHandler()}onReturn(){this.router.navigate(["resource"])}searchHandler(){this.api.searchAgent("",this.searchValue,this.languages,"",this.pageInfo.pageIndex,this.pageInfo.pageSize).subscribe(n=>{this.listOfData=n.content,this.pageInfo.total=n.totalElements})}pageChangeHandler(n){this.pageInfo.pageIndex=n.pageIndex,this.pageInfo.pageSize=n.pageSize,this.searchHandler()}onSelectLanguage(n){this.languages=n,this.pageInfo.pageIndex=1,this.searchHandler()}deleteConfirm(n){this.api.deleteAgents([n.id]).subscribe(o=>{this.message.success(`${this.i18n.translate("base.delete")}${this.i18n.translate("base.success")}`),this.searchHandler()})}toAgentTip(n){let o="";return null==n||n.forEach(i=>{o+=i.role,o+=":\n",o+=i.message,o+="\n"}),o}onEdit(n){this.router.navigate([`resource/agent/edit/${n.id}`])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.dD),t.Y36(h.wi),t.Y36(s.F0),t.Y36(x.YX))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-agent-retrieval"]],decls:20,vars:19,consts:[[1,"page-retrieval","pr"],["dy-icon","","type","return",3,"click"],["nzSearch","","nzSize","large",3,"nzSuffix"],["type","text","nz-input","",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["suffixIconSearch",""],[1,"types-box"],["typesBox",""],[1,"type-box"],[1,"type-label"],[1,"type-item-box"],[3,"data","selected"],[1,"table-box",3,"ngStyle"],[3,"columns","data","total","pageIndex","pageSize","pageChange"],["table",""],["dy-column","templateColumn"],["dy-icon","","type","sousuo",3,"click"],[1,"template-column",3,"nz-tooltip"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"i",1),t.NdJ("click",function(){return o.onReturn()}),t.qZA(),t.TgZ(2,"nz-input-group",2)(3,"input",3),t.NdJ("ngModelChange",function(c){return o.searchValue=c})("keyup.enter",function(){return o.searchHandler()}),t.ALo(4,"nzI18n"),t.ALo(5,"nzI18n"),t.qZA()(),t.YNc(6,A,1,0,"ng-template",null,4,t.W1O),t.TgZ(8,"div",5,6)(10,"div",7)(11,"span",8),t._uU(12),t.ALo(13,"nzI18n"),t.qZA(),t.TgZ(14,"span",9)(15,"dy-checkbox-btn",10),t.NdJ("selected",function(c){return o.onSelectLanguage(c)}),t.qZA()()()(),t.TgZ(16,"div",11)(17,"app-table",12,13),t.NdJ("pageChange",function(c){return o.pageChangeHandler(c)}),t.YNc(19,z,2,2,"ng-template",14),t.qZA()()()),2&n){const i=t.MAs(7),c=t.MAs(9);t.xp6(2),t.Q6J("nzSuffix",i),t.xp6(1),t.Q6J("ngModel",o.searchValue)("placeholder",t.lcZ(4,11,"base.pleaseInput")+t.lcZ(5,13,"base.name")),t.xp6(9),t.hij("",t.lcZ(13,15,o.typeList[0].name),": "),t.xp6(3),t.Q6J("data",o.typeList[0].children),t.xp6(1),t.Q6J("ngStyle",t.VKq(17,w,"calc(100% - 111px - "+c.offsetHeight+"px)")),t.xp6(1),t.Q6J("columns",o.columns)("data",o.listOfData)("total",o.pageInfo.total)("pageIndex",o.pageInfo.pageIndex)("pageSize",o.pageInfo.pageSize)}},directives:[f.kE,M.w,d.gB,d.ke,d.Zp,u.Fj,u.JJ,u.On,f.Ov,C.PC,b.a,v.rA,y.SY],pipes:[h.o9],styles:["html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default[_ngcontent-%COMP%]   .ant-tooltip.replicable[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden;padding-right:3px}html.default[_ngcontent-%COMP%]   .ant-tooltip.replicable[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto}html.default[_ngcontent-%COMP%]   .ant-tooltip.replicable[_ngcontent-%COMP%]   .copy-box[_ngcontent-%COMP%]{height:20px;position:relative;top:-7px}html.default[_ngcontent-%COMP%]   .ant-tooltip.replicable[_ngcontent-%COMP%]   .copy-box[_ngcontent-%COMP%]   .ic-fuzhi[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tooltip.replicable[_ngcontent-%COMP%]   .copy-box[_ngcontent-%COMP%]   .ic-check[_ngcontent-%COMP%]{font-size:20px}html.default[_ngcontent-%COMP%]   .ant-tooltip.replicable[_ngcontent-%COMP%]   .copy-box[_ngcontent-%COMP%]   .ic-fuzhi[_ngcontent-%COMP%]:hover, html.default[_ngcontent-%COMP%]   .ant-tooltip.replicable[_ngcontent-%COMP%]   .copy-box[_ngcontent-%COMP%]   .ic-check[_ngcontent-%COMP%]:hover{color:#c4c4c4}html.default   [_nghost-%COMP%]   .type-box[_ngcontent-%COMP%]{font-size:13px}html.default   [_nghost-%COMP%]     .app-table .template-column{width:300px;overflow:hidden;white-space:break-spaces;text-overflow:ellipsis;-webkit-line-clamp:3;display:-webkit-box;-webkit-box-orient:vertical}html.default   [_nghost-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:left;margin-left:15px}html.dark   [_nghost-%COMP%]   .type-box[_ngcontent-%COMP%]{font-size:13px}html.dark   [_nghost-%COMP%]     .app-table .template-column{width:300px;overflow:hidden;white-space:break-spaces;text-overflow:ellipsis;-webkit-line-clamp:3;display:-webkit-box;-webkit-box-orient:vertical}html.dark   [_nghost-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:left;margin-left:15px}html.light-blue   [_nghost-%COMP%]   .type-box[_ngcontent-%COMP%]{font-size:13px}html.light-blue   [_nghost-%COMP%]     .app-table .template-column{width:300px;overflow:hidden;white-space:break-spaces;text-overflow:ellipsis;-webkit-line-clamp:3;display:-webkit-box;-webkit-box-orient:vertical}html.light-blue   [_nghost-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:left;margin-left:15px}html.dark-blue   [_nghost-%COMP%]   .type-box[_ngcontent-%COMP%]{font-size:13px}html.dark-blue   [_nghost-%COMP%]     .app-table .template-column{width:300px;overflow:hidden;white-space:break-spaces;text-overflow:ellipsis;-webkit-line-clamp:3;display:-webkit-box;-webkit-box-orient:vertical}html.dark-blue   [_nghost-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:left;margin-left:15px}html.blue1   [_nghost-%COMP%]   .type-box[_ngcontent-%COMP%]{font-size:13px}html.blue1   [_nghost-%COMP%]     .app-table .template-column{width:300px;overflow:hidden;white-space:break-spaces;text-overflow:ellipsis;-webkit-line-clamp:3;display:-webkit-box;-webkit-box-orient:vertical}html.blue1   [_nghost-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:left;margin-left:15px}"]}),e})();function Z(e,l){1&e&&(t.TgZ(0,"li",6),t._uU(1),t.ALo(2,"nzI18n"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"agent.template")," "))}function I(e,l){1&e&&(t.TgZ(0,"li",7),t._uU(1),t.ALo(2,"nzI18n"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"base.retrieval")," "))}const T=[{path:"",component:(()=>{class e{constructor(n,o){this.route=n,this.helper=o}ngOnInit(){this.helper.defaultEnter(this.route),this.subscription=this.helper.simulateReuse(this.route)}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.gz),t.Y36(g.$J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-agent-main"]],decls:7,vars:2,consts:[[1,"tab-menu-box"],[1,"menu"],["nz-menu",""],["nz-menu-item","","nzMatchRouter","","routerLink","./list",4,"authx"],["nz-menu-item","","nzMatchRouter","","routerLink","./retrieval",4,"authx"],[1,"content",2,"padding","15px"],["nz-menu-item","","nzMatchRouter","","routerLink","./list"],["nz-menu-item","","nzMatchRouter","","routerLink","./retrieval"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"ul",2),t.YNc(3,Z,3,3,"li",3),t.YNc(4,I,3,3,"li",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"dy-router-outlet"),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("authx","Resource.Prompt.Group"),t.xp6(1),t.Q6J("authx","Resource.Prompt.Retrieval"))},directives:[p.wO,g.xo,p.r9,M.w,s.rH,g.Fr],pipes:[h.o9],encapsulation:2}),e})(),children:[{path:"list",loadChildren:()=>a.e(6799).then(a.bind(a,46799)).then(e=>e.AgentListModule),data:{authPathMatch:"full"},canActivate:[g.$P],canActivateChild:[g.$P]},{path:"retrieval",component:k,data:{authPathMatch:"full"},canActivate:[g.$P],canActivateChild:[g.$P]}]}];let R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[C.ez,g.OX,p.ip,O.m,s.Bz.forChild(T)]]}),e})()}}]);