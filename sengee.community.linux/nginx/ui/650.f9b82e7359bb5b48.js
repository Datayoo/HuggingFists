"use strict";(self.webpackChunksengee_ui=self.webpackChunksengee_ui||[]).push([[650],{10650:($,E,e)=>{e.d(E,{y:()=>K});var l=e(93075),g=e(57781),M=e(47910),f=e(63199),n=e(5e3),P=e(40520),T=e(90056),b=e(49727),d=e(77152),F=e(69808),m=e(64546),C=e(41894),c=e(11047),h=e(78054),v=e(82683),x=e(91156),Z=e(16114),A=e(76042),B=e(92643),z=e(63640);function D(o,i){if(1&o&&(n.TgZ(0,"div",45),n._uU(1),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.Oqu(t.title)}}function U(o,i){if(1&o&&n._UZ(0,"img",47),2&o){const t=n.oxw(2);n.Q6J("src","../../../assets/logo/"+t.logo,n.LSH)}}function y(o,i){if(1&o&&n.YNc(0,U,1,1,"img",46),2&o){const t=n.oxw();n.Q6J("ngIf",t.showLogo)}}function I(o,i){1&o&&(n.ynx(0),n._uU(1,"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801\uff01"),n.BQk())}function R(o,i){1&o&&(n.ynx(0),n._uU(1,"\u5bc6\u7801\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),n.BQk())}function N(o,i){if(1&o&&(n.YNc(0,I,2,0,"ng-container",48),n.YNc(1,R,2,0,"ng-container",48)),2&o){const t=i.$implicit;n.Q6J("ngIf",t.hasError("required")),n.xp6(1),n.Q6J("ngIf",t.hasError("confirm"))}}function w(o,i){1&o&&(n.ynx(0),n._uU(1,"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"),n.BQk())}function L(o,i){1&o&&(n.ynx(0),n._uU(1,"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"),n.BQk())}function V(o,i){if(1&o&&(n.YNc(0,w,2,0,"ng-container",48),n.YNc(1,L,2,0,"ng-container",48)),2&o){const t=i.$implicit;n.Q6J("ngIf",t.hasError("required")),n.xp6(1),n.Q6J("ngIf",t.hasError("format"))}}function Q(o,i){if(1&o){const t=n.EpF();n.TgZ(0,"span",49),n.NdJ("click",function(){return n.CHM(t),n.oxw().onClick()}),n._uU(1),n.qZA()}if(2&o){const t=n.oxw();n.Q6J("disabled","INVALID"===t.validateForm.controls.mobile.status||t.timer),n.xp6(1),n.Oqu(t.smsCodeTxt)}}function q(o,i){1&o&&(n.ynx(0),n._uU(1,"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"),n.BQk())}function J(o,i){1&o&&n.YNc(0,q,2,0,"ng-container",48),2&o&&n.Q6J("ngIf",i.$implicit.hasError("format"))}function S(o,i){if(1&o){const t=n.EpF();n.ynx(0),n.TgZ(1,"dy-verify-puzzle",50),n.NdJ("onSuccess",function(){return n.CHM(t),n.oxw().onSuccess()}),n.qZA(),n.BQk()}if(2&o){const t=n.oxw();n.xp6(1),n.Q6J("imgUrl",t.imgUrl)}}const W=function(){return{width:"350px"}};let K=(()=>{class o{constructor(t,r,u,s,_){this.fb=t,this.http=r,this.api=u,this.message=s,this.router=_,this.smsCodeTxt="\u83b7\u53d6\u9a8c\u8bc1\u7801",this.imgUrl=`${window.member}/member/client/image`,this.isVisible=!1,this.logo=f.N.loginLogo,this.showLogo=f.N.showLogo,this.copyright=`Copyright \xa9 ${(new Date).getFullYear()} ${window.datayoo}`,this.title=window.title,this.confirmationValidator=a=>a.value?a.value!==this.validateForm.controls.password.value?{confirm:!0,error:!0}:{}:{required:!0},this.mobileValidator=a=>a.value?g.Vq.test(a.value)?{}:{format:!0,error:!0}:{required:!0},this.emailValidator=a=>a.value?g.cx.test(a.value)?{}:{format:!0,error:!0}:{}}ngOnInit(){this.year=(0,M.Z)(new Date,"yyyy"),this.validateForm=this.fb.group({userName:[null,[l.kI.required]],password:[null,[l.kI.required]],checkPassword:[null,[l.kI.required,this.confirmationValidator]],mobilePrefix:["+86"],mobile:[null,[l.kI.required,this.mobileValidator]],smsCode:[null,[l.kI.required]],email:[null,[this.emailValidator]],firstName:[null],lastName:[null],company:[null],position:[null],agree:[null,[l.kI.required]]})}onClick(){"INVALID"===this.validateForm.controls.mobile.status||this.timer||(this.isVisible=!0)}onSuccess(){setTimeout(()=>{this.isVisible=!1,this.http.get(`${window.member}/member/client/verification?mobile=${this.validateForm.controls.mobile.value}`).subscribe(t=>{200!==t.code?this.message.error(t.result):this.onCountdown()})},800)}onCountdown(){let t=60;const r=()=>(t--,t<=0?(this.smsCodeTxt="\u518d\u6b21\u53d1\u9001",clearInterval(this.timer),void(this.timer=null)):(this.smsCodeTxt=`\u518d\u6b21\u53d1\u9001(${t})`,r));this.timer=setInterval(r(),1e3)}onValidate(){this.validateForm.valid?this.submitForm():Object.values(this.validateForm.controls).forEach(t=>{t.invalid&&(t.markAsDirty(),t.updateValueAndValidity({onlySelf:!0}))})}submitForm(){const{userName:t,password:r,mobile:u,smsCode:s,email:_,firstName:a,lastName:p,company:Y,position:k}=this.validateForm.value;this.api.register({userName:t,password:(0,g.To)(r),mobile:u,smsCode:s,email:_,firstName:a,lastName:p,company:Y,position:k}).subscribe(O=>{if(200===O.code)return this.message.success("\u6ce8\u518c\u6210\u529f!"),void setTimeout(()=>{this.router.navigate(["/login"])},1500);this.message.error(O.result)})}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(l.qu),n.Y36(P.eN),n.Y36(T.z9),n.Y36(b.dD),n.Y36(d.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-register"]],decls:77,vars:15,consts:[[1,"login-box"],[1,"top"],[1,"header"],["class","title",4,"ngIf","ngIfElse"],["imgTemp",""],[1,"main"],["nz-form","",1,"login-form",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","userName"],["nzErrorTip","\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff01"],["type","text","nz-input","","formControlName","userName","placeholder","\u7528\u6237\u540d"],["nzRequired","","nzFor","password"],["nzErrorTip","\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"],["type","password","nz-input","","formControlName","password","placeholder","\u5bc6\u7801"],["nzRequired","","nzFor","checkPassword"],[3,"nzErrorTip"],["type","password","nz-input","","formControlName","checkPassword","placeholder","\u786e\u8ba4\u5bc6\u7801"],["errorTpl2",""],["nzRequired","","nzFor","mobile"],[3,"nzValidateStatus","nzErrorTip"],["formControlName","mobilePrefix"],["nzLabel","+86","nzValue","+86"],["nz-input","","formControlName","mobile","placeholder","\u624b\u673a\u53f7"],["errorTpl1",""],["nzRequired","","nzFor","smsCode"],["nzErrorTip","\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801\uff01"],[3,"nzSuffix"],["type","text","nz-input","","formControlName","smsCode","placeholder","\u77ed\u4fe1\u9a8c\u8bc1\u7801"],["suffixTpl",""],["type","text","nz-input","","formControlName","email","placeholder","\u90ae\u7bb1"],["errorTpl3",""],["type","text","nz-input","","formControlName","firstName","placeholder","\u59d3"],["type","text","nz-input","","formControlName","lastName","placeholder","\u540d"],["type","text","nz-input","","formControlName","company","placeholder","\u516c\u53f8"],["type","text","nz-input","","formControlName","position","placeholder","\u804c\u4f4d"],[3,"nzAlign"],["nzErrorTip","\u8bf7\u9605\u8bfb\u5e76\u540c\u610f\u670d\u52a1\u534f\u8bae\uff01"],["nz-checkbox","","formControlName","agree"],["href","javascript:void(0);"],["routerLink","/login",1,"login-form-forgot"],["nz-button","",1,"login-form-button","login-form-margin",3,"nzType"],[1,"footer"],[1,"links"],[1,"copyright"],["nzTitle","\u8bf7\u5b8c\u6210\u5b89\u5168\u9a8c\u8bc1","nzCentered","",3,"nzVisible","nzStyle","nzFooter","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[1,"title"],["alt","",3,"src",4,"ngIf"],["alt","",3,"src"],[4,"ngIf"],["dy-interactive","",1,"get-captcha",3,"disabled","click"],[3,"imgUrl","onSuccess"]],template:function(t,r){if(1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n.YNc(3,D,2,1,"div",3),n.YNc(4,y,1,1,"ng-template",null,4,n.W1O),n.qZA()(),n.TgZ(6,"div",5)(7,"form",6),n.NdJ("ngSubmit",function(){return r.onValidate()}),n.TgZ(8,"nz-form-item"),n._UZ(9,"nz-form-label",7),n.TgZ(10,"nz-form-control",8),n._UZ(11,"input",9),n.qZA()(),n.TgZ(12,"nz-form-item"),n._UZ(13,"nz-form-label",10),n.TgZ(14,"nz-form-control",11),n._UZ(15,"input",12),n.qZA()(),n.TgZ(16,"nz-form-item"),n._UZ(17,"nz-form-label",13),n.TgZ(18,"nz-form-control",14),n._UZ(19,"input",15),n.YNc(20,N,2,2,"ng-template",null,16,n.W1O),n.qZA()(),n.TgZ(22,"nz-form-item"),n._UZ(23,"nz-form-label",17),n.TgZ(24,"nz-form-control",18)(25,"nz-select",19),n._UZ(26,"nz-option",20),n.qZA(),n._UZ(27,"input",21),n.YNc(28,V,2,2,"ng-template",null,22,n.W1O),n.qZA()(),n.TgZ(30,"nz-form-item"),n._UZ(31,"nz-form-label",23),n.TgZ(32,"nz-form-control",24)(33,"nz-input-group",25),n._UZ(34,"input",26),n.qZA(),n.YNc(35,Q,2,2,"ng-template",null,27,n.W1O),n.qZA()(),n.TgZ(37,"nz-form-item")(38,"nz-form-control",14),n._UZ(39,"input",28),n.YNc(40,J,1,1,"ng-template",null,29,n.W1O),n.qZA()(),n.TgZ(42,"nz-form-item")(43,"nz-form-control"),n._UZ(44,"input",30),n.qZA(),n.TgZ(45,"nz-form-control"),n._UZ(46,"input",31),n.qZA()(),n.TgZ(47,"nz-form-item")(48,"nz-form-control"),n._UZ(49,"input",32),n.qZA()(),n.TgZ(50,"nz-form-item")(51,"nz-form-control"),n._UZ(52,"input",33),n.qZA()(),n.TgZ(53,"nz-form-item",34)(54,"nz-form-control",35)(55,"label",36),n._uU(56,"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f"),n.qZA(),n.TgZ(57,"a",37),n._uU(58,"\u670d\u52a1\u534f\u8bae"),n.qZA()(),n.TgZ(59,"span"),n._uU(60,"\u5df2\u6709\u8d26\u53f7\uff0c"),n.TgZ(61,"a",38),n._uU(62,"\u53bb\u767b\u5f55"),n.qZA()()(),n.TgZ(63,"button",39),n._uU(64,"\u6ce8 \u518c"),n.qZA()()(),n.TgZ(65,"div",40)(66,"div",41)(67,"a",37),n._uU(68,"\u5e2e\u52a9"),n.qZA(),n.TgZ(69,"a",37),n._uU(70,"\u9690\u79c1"),n.qZA(),n.TgZ(71,"a",37),n._uU(72,"\u6761\u6b3e"),n.qZA()(),n.TgZ(73,"div",42),n._uU(74),n.qZA()()(),n.TgZ(75,"nz-modal",43),n.NdJ("nzVisibleChange",function(s){return r.isVisible=s})("nzOnCancel",function(){return r.isVisible=!1}),n.YNc(76,S,2,1,"ng-container",44),n.qZA()),2&t){const u=n.MAs(5),s=n.MAs(21),_=n.MAs(29),a=n.MAs(36),p=n.MAs(41);n.xp6(3),n.Q6J("ngIf",r.title)("ngIfElse",u),n.xp6(4),n.Q6J("formGroup",r.validateForm),n.xp6(11),n.Q6J("nzErrorTip",s),n.xp6(6),n.Q6J("nzValidateStatus",r.validateForm.controls.mobile)("nzErrorTip",_),n.xp6(9),n.Q6J("nzSuffix",a),n.xp6(5),n.Q6J("nzErrorTip",p),n.xp6(15),n.Q6J("nzAlign","middle"),n.xp6(10),n.Q6J("nzType","primary"),n.xp6(11),n.hij(" Copyright \xa9 ",r.year," "),n.xp6(1),n.Q6J("nzVisible",r.isVisible)("nzStyle",n.DdM(14,W))("nzFooter",null)}},directives:[F.O5,l._Y,l.JL,m.Lr,l.sg,C.SK,m.Nx,C.t3,m.iK,m.Fd,c.Zp,l.Fj,l.JJ,l.u,h.Vq,h.Ip,c.gB,v.w,c.ke,x.mU,Z.Ie,d.yS,A.ix,B.dQ,z.du,z.Hf,x.F1],styles:[".login-box[_ngcontent-%COMP%]{width:100%;min-height:100%;background:var(--login-bg) url(login-bg.ed05d5bdf866ab00.svg) no-repeat 50%;background-size:100%;padding:110px 0 144px;position:relative}.login-box[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]{position:absolute;width:100%;height:calc(100% - 110px);background-color:var(--login-mask-bg)}.login-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:36px;line-height:36px;text-align:center;margin-bottom:120px;position:relative}.login-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:290px;vertical-align:top;border-style:none}.login-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:33px;color:#000000d9;font-family:Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-weight:600;position:relative;top:2px}.login-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{min-width:260px;width:380px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%}.login-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px;align-items:center;justify-content:space-between}.login-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-form-forgot[_ngcontent-%COMP%]{float:right}.login-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-form-button[_ngcontent-%COMP%]{width:100%}.login-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]     .ant-form-item-control-input-content{display:flex}.login-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .verify-code-input[_ngcontent-%COMP%]{width:280px}.login-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .verify-code[_ngcontent-%COMP%]{width:100px;height:32px;margin-bottom:0}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;padding:0 16px;margin:48px 0 24px;text-align:center}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-bottom:8px;font-size:14px}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:last-child){margin-right:20px}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{color:#00000073;font-size:14px}",".ant-form-item[_ngcontent-%COMP%]   .ant-select[_ngcontent-%COMP%]{width:70px}.login-box[_ngcontent-%COMP%]{padding:100px 0}.login-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:60px}  .ant-checkbox+span{padding-right:1px}  .ant-select:not(.ant-select-customize-input) .ant-select-selector{border-top-right-radius:0;border-bottom-right-radius:0}  .ant-form-item-has-error .ant-select:not(.ant-select-disabled):not(.ant-select-customize-input) .ant-select-selector{border-right-color:#0000!important}  .ant-form-item{margin-bottom:15px}  .ant-form-item{position:relative}  .ant-form-item-label{position:absolute;left:-10px}  .ant-form-item-label label:after{display:none}.get-captcha[_ngcontent-%COMP%]{cursor:pointer}"]}),o})()}}]);