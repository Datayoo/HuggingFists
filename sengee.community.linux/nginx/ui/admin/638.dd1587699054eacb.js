"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[638],{638:(A,p,a)=>{a.r(p),a.d(p,{AuthDescModule:()=>w});var s=a(9808),d=a(3075),_=a(7152),r=a(1453),C=a(5410),g=a(1894),u=a(1047),h=a(3640),m=a(5156),f=a(7781),t=a(5e3),M=a(489);class O{constructor(i,n){this._document=n;const o=this._textarea=this._document.createElement("textarea"),l=o.style;l.position="fixed",l.top=l.opacity="0",l.left="-999em",o.setAttribute("aria-hidden","true"),o.value=i,this._document.body.appendChild(o)}copy(){const i=this._textarea;let n=!1;try{if(i){const o=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),n=this._document.execCommand("copy"),o&&o.focus()}}catch(o){}return n}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let P=(()=>{class e{constructor(n){this._document=n}copy(n){const o=this.beginCopy(n),l=o.copy();return o.destroy(),l}beginCopy(n){return new O(n,this._document)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(s.K0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=a(9727);function x(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){return t.CHM(n),t.oxw().addAuthDesc()}),t._UZ(1,"i",7)(2,"br"),t._uU(3," \u65b0\u5efa\u8d26\u53f7\u63cf\u8ff0 "),t.qZA()}}function y(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",8),t._UZ(1,"div",9),t.TgZ(2,"div",10)(3,"div"),t._uU(4),t.qZA()(),t.TgZ(5,"div",11)(6,"span",12),t.NdJ("click",function(){const c=t.CHM(n).$implicit;return t.oxw().handleCopy(c)}),t._uU(7,"\u590d\u5236\u63cf\u8ff0XML"),t.qZA()()()}if(2&e){const n=i.$implicit;t.xp6(1),t.Q6J("resourceDescriptorType",n.name),t.xp6(3),t.Oqu(n.alias||n.name)}}const v=function(){return{mode:"text/xml"}};function k(e,i){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",13)(2,"p",14)(3,"span",15),t._uU(4,"\u540d\u79f0\uff1a"),t.qZA(),t.TgZ(5,"input",16),t.NdJ("ngModelChange",function(l){return t.CHM(n),t.oxw().formParams.name=l}),t.qZA()(),t.TgZ(6,"p",17)(7,"span",15),t._uU(8,"\u63cf\u8ff0XML\uff1a"),t.qZA(),t.TgZ(9,"span",18)(10,"dy-codemirror",19),t.NdJ("ngModelChange",function(l){return t.CHM(n),t.oxw().formParams.descriptorXml=l}),t.qZA()()()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(3),t.Q6J("nzSpan",2),t.xp6(2),t.Q6J("nzSpan",22)("delay",300)("ngModel",n.formParams.name),t.xp6(2),t.Q6J("nzSpan",2),t.xp6(2),t.Q6J("nzSpan",22),t.xp6(1),t.Q6J("ngModel",n.formParams.descriptorXml)("options",t.DdM(8,v))}}const T=[{path:"",component:(()=>{class e{constructor(n,o,l){this.api=n,this.clipboard=o,this.message=l,this.isVisible=!1,this.formParams={name:"",alias:"",descriptorXml:""}}ngOnInit(){this.getList()}getList(){this.api.getTemplateList().subscribe(n=>{this.dataList=n})}addAuthDesc(){this.isVisible=!0}handleCopy(n){this.clipboard.copy((0,f.t6)(n.descriptorXml)),this.message.success("\u590d\u5236\u6210\u529f!")}handleOk(){this.formParams.alias=this.formParams.name,this.api.addDescriptor(this.formParams).subscribe(n=>{this.message.success("\u65b0\u589e\u6210\u529f!"),this.handleCancel(300)})}handleCancel(n=0){setTimeout(()=>{this.formParams.alias=this.formParams.name=this.formParams.descriptorXml="",this.isVisible=!1},n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(M.Y2),t.Y36(P),t.Y36(b.dD))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth-desc"]],decls:6,vars:3,consts:[[1,"box"],[1,"content"],["class","add-btn",3,"click",4,"authx"],["class","item",4,"ngFor","ngForOf"],["nzTitle","\u65b0\u589e\u8d26\u53f7\u63cf\u8ff0","nzWidth","50%","nzClassName","auth-desc-modal",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],[1,"add-btn",3,"click"],["dy-icon","","type","icon2"],[1,"item"],["authx-resource-icon","",1,"operator-icon",3,"resourceDescriptorType"],[1,"right","fr"],[1,"btns"],[3,"click"],[2,"padding","15px","line-height","32px"],["nz-row",""],["nz-col","",1,"form-label",3,"nzSpan"],["nz-col","","dyAutofocus","","nz-input","","type","text",1,"form-nz",3,"nzSpan","delay","ngModel","ngModelChange"],["nz-row","",2,"height","500px"],["nz-col","",1,"xml-box",2,"width","100%","height","100%","overflow","auto",3,"nzSpan"],[3,"ngModel","options","ngModelChange"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,x,4,0,"div",2),t.YNc(3,y,8,2,"div",3),t.qZA()(),t.TgZ(4,"nz-modal",4),t.NdJ("nzVisibleChange",function(c){return o.isVisible=c})("nzOnCancel",function(){return o.handleCancel()})("nzOnOk",function(){return o.handleOk()}),t.YNc(5,k,11,9,"ng-container",5),t.qZA()),2&n&&(t.xp6(2),t.Q6J("authx","AuthDesc.Create"),t.xp6(1),t.Q6J("ngForOf",o.dataList),t.xp6(1),t.Q6J("nzVisible",o.isVisible))},directives:[C.xo,s.sg,m.L0,h.du,h.Hf,g.SK,g.t3,u.Zp,d.Fj,r.pQ,d.JJ,d.On,r.vf],styles:["html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]   .box[_ngcontent-%COMP%]{width:100%;height:100%;padding:15px}html.default   [_nghost-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;border:solid 1px #dbe9ea;overflow-y:auto}html.default   [_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%], html.default   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]{width:200px;height:115px;float:left;margin:15px;border-radius:2px;transition:all .3s;cursor:pointer;border:dashed 1px #2a8b92;background-color:#fbffff;color:#2a8b92;text-align:center}html.default   [_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html.default   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#2a8b92}html.default   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]{border:solid 1px #dbe9ea;background-color:#f7fdfd;text-align:left;position:relative}html.default   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]:hover{border-color:#2a8b92}html.default   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .operator-icon[_ngcontent-%COMP%]{width:80px;height:76px;display:inline-block;padding:12px;overflow:hidden}html.default   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:115px;padding-top:15px}html.default   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{border-top:solid 1px #dbe9ea;position:absolute;bottom:0;width:100%}html.default   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:100%;height:30px;line-height:30px;text-align:center}html.dark   [_nghost-%COMP%]   .box[_ngcontent-%COMP%]{width:100%;height:100%;padding:15px}html.dark   [_nghost-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;border:solid 1px #dbe9ea;overflow-y:auto}html.dark   [_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%], html.dark   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]{width:200px;height:115px;float:left;margin:15px;border-radius:2px;transition:all .3s;cursor:pointer;border:dashed 1px #275184;background-color:#fbfcff;color:#275184;text-align:center}html.dark   [_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html.dark   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#275184}html.dark   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]{border:solid 1px #dbe9ea;background-color:#f4f7fc;text-align:left;position:relative}html.dark   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]:hover{border-color:#275184}html.dark   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .operator-icon[_ngcontent-%COMP%]{width:80px;height:76px;display:inline-block;padding:12px;overflow:hidden}html.dark   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:115px;padding-top:15px}html.dark   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{border-top:solid 1px #dbe9ea;position:absolute;bottom:0;width:100%}html.dark   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:100%;height:30px;line-height:30px;text-align:center}html.light-blue   [_nghost-%COMP%]   .box[_ngcontent-%COMP%]{width:100%;height:100%;padding:15px}html.light-blue   [_nghost-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;border:solid 1px #eeefff;overflow-y:auto}html.light-blue   [_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%], html.light-blue   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]{width:200px;height:115px;float:left;margin:15px;border-radius:2px;transition:all .3s;cursor:pointer;border:dashed 1px #6e8bff;background-color:#fff;color:#6e8bff;text-align:center}html.light-blue   [_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html.light-blue   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#6e8bff}html.light-blue   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]{border:solid 1px #eeefff;background-color:#f9faff;text-align:left;position:relative}html.light-blue   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]:hover{border-color:#6e8bff}html.light-blue   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .operator-icon[_ngcontent-%COMP%]{width:80px;height:76px;display:inline-block;padding:12px;overflow:hidden}html.light-blue   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:115px;padding-top:15px}html.light-blue   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{border-top:solid 1px #eeefff;position:absolute;bottom:0;width:100%}html.light-blue   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:100%;height:30px;line-height:30px;text-align:center}"]}),e})(),data:{reuse:!0}}];let w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,d.u5,m.QX,h.Qp,g.Jb,u.o7,r.Q8,r.DC,C.$t,_.Bz.forChild(T)]]}),e})()}}]);